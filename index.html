<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <title>IIUC CGPA Buddy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700&display=swap"
    rel="stylesheet">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#F97316',
            bgLight: '#FFFFFF',
            textDark: '#1F2937',
          },
          boxShadow: {
            soft: '0 10px 25px rgba(15,23,42,0.07)',
          },
          borderRadius: {
            soft: '0.5rem', // 8px
          }
        }
      }
    }
  </script>

  <!-- Custom styles -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="bg-bgLight dark:bg-slate-900 text-textDark dark:text-slate-100 min-h-screen">
  <!-- Onboarding Modal -->
  <div id="onboardingModal"
       class="fixed inset-0 z-40 flex items-center justify-center bg-black/60 backdrop-blur-sm">
    <div class="bg-white dark:bg-slate-800 rounded-soft shadow-soft max-w-md w-11/12 p-6">
      <h2 class="font-heading text-xl sm:text-2xl font-semibold mb-2 text-center">
        Welcome to <span class="text-primary">IIUC CGPA Buddy</span>
      </h2>
      <p class="text-sm text-slate-600 dark:text-slate-300 mb-4 text-center">
        Enter your Student ID to get started. This is only used on this device to keep your data separate from others.
      </p>
      <form id="studentIdForm" class="space-y-4">
        <div>
          <label for="studentIdInput"
                 class="block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1">
            Student ID
          </label>
          <input id="studentIdInput" type="text" autocomplete="off"
                 class="w-full rounded-soft border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"
                 placeholder="e.g., CSE-21-12345" required />
          <p id="studentIdError" class="mt-1 text-xs text-red-500 hidden">
            Student ID is required.
          </p>
        </div>
        <button type="submit"
                class="w-full inline-flex justify-center items-center gap-2 rounded-soft bg-primary text-white py-2.5 text-sm font-medium shadow-soft hover:shadow-md hover:scale-[1.01] active:scale-[0.99] transition">
          Continue
        </button>
      </form>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div id="confirmModal"
       class="fixed inset-0 z-40 hidden items-center justify-center bg-black/60 backdrop-blur-sm">
    <div class="bg-white dark:bg-slate-800 rounded-soft shadow-soft max-w-sm w-11/12 p-5">
      <h3 class="font-heading text-lg font-semibold mb-2">
        Confirm Delete
      </h3>
      <p class="text-sm text-slate-600 dark:text-slate-300 mb-4">
        Are you sure you want to delete this item? This action cannot be undone.
      </p>
      <div class="flex justify-end gap-3">
        <button id="cancelDeleteBtn"
                class="px-3 py-1.5 text-sm rounded-soft border border-slate-300 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 transition">
          Cancel
        </button>
        <button id="confirmDeleteBtn"
                class="px-3 py-1.5 text-sm rounded-soft bg-red-500 text-white hover:bg-red-600 transition">
          Delete
        </button>
      </div>
    </div>
  </div>

  <!-- Resource Access Modal -->
  <div id="accessModal"
       class="fixed inset-0 z-40 hidden items-center justify-center bg-black/60 backdrop-blur-sm">
    <div class="bg-white dark:bg-slate-800 rounded-soft shadow-soft max-w-sm w-11/12 p-5">
      <h3 class="font-heading text-lg font-semibold mb-2">
        Enter Access ID
      </h3>
      <p class="text-sm text-slate-600 dark:text-slate-300 mb-4">
        This file is protected. Enter the student ID that has access to this resource.
      </p>
      <form id="accessForm" class="space-y-3">
        <input id="accessInput" type="password"
               class="w-full rounded-soft border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"
               placeholder="Student ID" required />
        <p id="accessError" class="mt-1 text-xs text-red-500 hidden">
          Access ID does not match.
        </p>
        <div class="flex justify-end gap-3">
          <button type="button" id="cancelAccessBtn"
                  class="px-3 py-1.5 text-sm rounded-soft border border-slate-300 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 transition">
            Cancel
          </button>
          <button type="submit"
                  class="px-3 py-1.5 text-sm rounded-soft bg-primary text-white hover:bg-orange-500 transition">
            Unlock
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Page Wrapper -->
  <div class="min-h-screen flex flex-col">
    <!-- Header -->
    <header class="sticky top-0 z-20 bg-white/90 dark:bg-slate-900/90 backdrop-blur border-b border-slate-100 dark:border-slate-800">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between gap-3">
        <div class="flex items-center gap-3">
          <div class="h-9 w-9 rounded-2xl bg-primary/10 flex items-center justify-center">
            <span class="text-xl "><img class="rounded-lg" src="iiuclogo.jpg" alt=""></span>
          </div>
          <div>
            <h1 class="font-heading text-lg sm:text-xl font-semibold">
              IIUC CGPA Buddy
            </h1>
            <p id="welcomeText" class="text-xs sm:text-sm text-slate-500 dark:text-slate-400">
              Welcome, Student!
            </p>
          </div>
        </div>
        <div class="flex items-center gap-2 sm:gap-3">
          <button id="changeIdBtn"
                  class="hidden sm:inline-flex items-center text-xs sm:text-sm px-3 py-1.5 rounded-soft border border-slate-300 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 transition">
            Change ID
          </button>
          <button id="themeToggle"
                  class="inline-flex items-center justify-center h-9 w-9 rounded-full border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 transition"
                  aria-label="Toggle dark mode">
            <span id="themeIcon">üåô</span>
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1">
      <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10">

        <!-- üèõ IIUC Banner Image Card -->
        <div class="mb-6 sm:mb-8">
          <div class="bg-white dark:bg-slate-800 rounded-soft shadow-soft overflow-hidden">
            <!-- Replace src with your real IIUC campus photo link -->
            <img
              src="iiuc3.jpg"
              alt="International Islamic University Chittagong Campus"
              class="w-full h-65 sm:h-65 object-cover">
            <div class="p-3 sm:p-4">
              <p class="text-xs sm:text-sm text-slate-600 dark:text-slate-300">
                A smart academic companion designed for IIUC students to manage CGPA, assignments, and study resources
                by department.
              </p>
            </div>
          </div>
        </div>

        <!-- Hero + Timer + Notices -->
        <div class="grid gap-6 lg:grid-cols-[minmax(0,2fr)_minmax(0,1.3fr)] items-start mb-10">
          <!-- Left: Intro & Departments -->
          <div>
            <div class="bg-white dark:bg-slate-800 rounded-soft shadow-soft p-5 mb-6">
              <h2 class="font-heading text-xl sm:text-2xl font-semibold mb-2">
                Your Academic Companion at <span class="text-primary">IIUC</span>
              </h2>
              <p class="text-sm sm:text-base text-slate-600 dark:text-slate-300 mb-3">
                Track your CGPA, manage assignments, and share lecture files & notes per department ‚Äî all in one
                clean, student-friendly dashboard.
              </p>
              <ul class="text-xs sm:text-sm text-slate-600 dark:text-slate-300 space-y-1">
                <li>‚Ä¢ Per-department CGPA calculators with IIUC-style grading</li>
                <li>‚Ä¢ Live exam countdown & smart notice board</li>
                <li>‚Ä¢ Simple access control for shared Google Drive resources</li>
              </ul>
            </div>

            <div>
              <h3 class="font-heading text-lg sm:text-xl font-semibold mb-3">
                Departments
              </h3>
              <div id="departmentsGrid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4">
                <!-- Filled by JS -->
              </div>
            </div>
          </div>

          <!-- Right: Exam Timer + Notices -->
          <div class="space-y-4">
            <!-- Exam Countdown -->
            <div class="bg-white dark:bg-slate-800 rounded-soft shadow-soft p-4">
              <div class="flex items-center justify-between mb-2">
                <h3 class="font-heading text-base sm:text-lg font-semibold">
                  üìÖ Exam Countdown
                </h3>
                <span class="text-[11px] sm:text-xs text-slate-500 dark:text-slate-400">
                  Per Student ID
                </span>
              </div>
              <p class="text-xs sm:text-sm text-slate-600 dark:text-slate-300 mb-3">
                Set your next exam date and track the time left.
              </p>
              <form id="examForm" class="space-y-2 mb-3">
                <label class="block text-xs font-medium text-slate-600 dark:text-slate-300 mb-1">
                  Exam Date & Time
                </label>
                <input id="examDateTime" type="datetime-local"
                       class="w-full rounded-soft border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" />
                <button type="submit"
                        class="mt-1 inline-flex items-center justify-center w-full rounded-soft bg-primary text-white text-xs sm:text-sm py-1.5 sm:py-2 font-medium hover:bg-orange-500 hover:shadow-md transition">
                  Save Exam Date
                </button>
              </form>
              <div id="examCountdown"
                   class="text-center text-xs sm:text-sm font-medium text-slate-700 dark:text-slate-200">
                No exam date set.
              </div>
            </div>

            <!-- Notice Board -->
            <div class="bg-white dark:bg-slate-800 rounded-soft shadow-soft p-4">
              <div class="flex items-center justify-between mb-2">
                <h3 class="font-heading text-base sm:text-lg font-semibold">
                  üì¢ Notice Board
                </h3>
                <span class="text-[11px] text-slate-500 dark:text-slate-400">
                  Updated via system
                </span>
              </div>
              <ul id="noticeList" class="space-y-2 text-xs sm:text-sm text-slate-700 dark:text-slate-200">
                <!-- Filled by JS -->
              </ul>
            </div>

            <!-- Faculty Directory -->
            <div class="bg-white dark:bg-slate-800 rounded-soft shadow-soft p-4">
              <div class="flex items-center justify-between mb-2">
                <h3 class="font-heading text-base sm:text-lg font-semibold">
                  üë®‚Äçüè´ Faculty Directory
                </h3>
                <span class="text-[11px] text-slate-500 dark:text-slate-400">
                  iiuc.ac.bd only
                </span>
              </div>
              <div class="space-y-2 text-xs sm:text-sm">
                <div>
                  <p class="font-medium">------- <span
                      class="text-[11px] text-slate-500 dark:text-slate-400">(CSE)</span>
                  </p>
                  <a href="mailto:ahmed.rahman@iiuc.ac.bd"
                     class="text-primary hover:underline break-all">---@iiuc.ac.bd</a>
                </div>
                <div>
                  <p class="font-medium">-------- <span
                      class="text-[11px] text-slate-500 dark:text-slate-400">(EEE)</span>
                  </p>
                  <a href="mailto:fatema.noor@iiuc.ac.bd"
                     class="text-primary hover:underline break-all">---------@iiuc.ac.bd</a>
                </div>
                <div>
                  <p class="font-medium">--------<span
                      class="text-[11px] text-slate-500 dark:text-slate-400">(BBA)</span>
                  </p>
                  <a href="mailto:hasan.mahmud@iiuc.ac.bd"
                     class="text-primary hover:underline break-all">--------@iiuc.ac.bd</a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Department Sections -->
        <div id="departmentsContainer" class="space-y-10 sm:space-y-12">
          <!-- Filled by JS -->
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-5 flex flex-col sm:flex-row gap-4 sm:gap-6 items-start sm:items-center justify-between">
        <div class="text-xs sm:text-sm text-slate-600 dark:text-slate-300">
          Made with <span class="text-red-500">‚ù§Ô∏è</span> by an IIUC CSE Student (5th Semester)
        </div>
        <div class="flex flex-wrap items-center gap-3 sm:gap-4">
          <a href="https://wa.me/8801945457270?text=Assalamu%20Alaikum!%20Need%20help%20with%20CGPA%20Buddy.%20JazakAllah."
      

             target="_blank" rel="noopener noreferrer"
             class="inline-flex items-center gap-2 text-xs sm:text-sm px-3 py-1.5 rounded-soft bg-green-500 text-white hover:bg-green-600 transition">
            <span>WhatsApp Support</span> <span>üí¨</span>
          </a>
          <nav class="flex flex-wrap gap-3 text-[11px] sm:text-xs text-slate-500 dark:text-slate-300"
               id="footerDeptNav">
            <!-- Filled by JS -->
          </nav>
        </div>
      </div>
    </footer>
  </div>

  <!-- App Logic -->
   <script src="js/main.js" defer></script>
  <script src="js/loc-storage.js" defer></script>
  <script src="js/ui.js" defer></script>
  <script src="js/app.js" defer></script>
</body>
</html>
